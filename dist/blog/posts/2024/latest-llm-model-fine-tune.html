<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ä¸»æµllmå¤§æ¨¡å‹å¾®è°ƒå°ç»“ | YiMing's blog</title>
    <meta name="description" content="llmå¤§æ¨¡å‹å¾®è°ƒæ€»ç»“">
    <link rel="preload stylesheet" href="/assets/style.823ab474.css" as="style">
    <script type="module" src="/assets/app.e3622a87.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.2ed14f66.woff2" as="font" type="font/woff2" crossorigin="">
  <link rel="modulepreload" href="/assets/chunks/framework.41330901.js">
  <link rel="modulepreload" href="/assets/chunks/theme.86a8f785.js">
  <link rel="modulepreload" href="/assets/blog_posts_2024_latest-llm-model-fine-tune.md.014939e0.lean.js">
  <link rel="icon" href="yiminglogo2.png">
  <script id="check-dark-light">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-2bf54a99><!--[--><!--]--><!--[--><span tabindex="-1" data-v-f5a352f2></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-f5a352f2> Skip to content </a><!--]--><!----><header class="VPNav" data-v-2bf54a99 data-v-283c37a7><div class="VPNavBar" data-v-283c37a7 data-v-2264840b><div class="container" data-v-2264840b><div class="title" data-v-2264840b><div class="VPNavBarTitle" data-v-2264840b data-v-d298091b><a class="title" href="/" data-v-d298091b><!--[--><!--]--><!--[--><img class="VPImage logo" src="/yiminglogo2.png" alt data-v-6dd5884f><!--]--><!--[-->YiMing&#39;s Blog<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-2264840b><div class="curtain" data-v-2264840b></div><div class="content-body" data-v-2264840b><!--[--><!--]--><div class="VPNavBarSearch search" style="--vp-meta-key:&#39;Meta&#39;;" data-v-2264840b><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg class="DocSearch-Search-Icon" width="20" height="20" viewBox="0 0 20 20" aria-label="search icon"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-2264840b data-v-f54c34e6><span id="main-nav-aria-label" class="visually-hidden" data-v-f54c34e6>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/" tabindex="0" data-v-f54c34e6 data-v-bdc88584 data-v-d502cd7b><!--[-->Home<!--]--><!----></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-f54c34e6 data-v-529736ff><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-529736ff><span class="text" data-v-529736ff><!----> Blog <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-529736ff><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-529736ff><div class="VPMenu" data-v-529736ff data-v-280e28cb><div class="items" data-v-280e28cb><!--[--><!--[--><div class="VPMenuLink" data-v-280e28cb data-v-2a9f32f4><a class="VPLink link" href="/blog/" data-v-2a9f32f4 data-v-d502cd7b><!--[-->Blog Home<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-280e28cb data-v-2a9f32f4><a class="VPLink link" href="/blog/tags.html" data-v-2a9f32f4 data-v-d502cd7b><!--[-->Tags<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-280e28cb data-v-2a9f32f4><a class="VPLink link" href="/blog/archives.html" data-v-2a9f32f4 data-v-d502cd7b><!--[-->Archives<!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/blog/authors/yi-ming.html" tabindex="0" data-v-f54c34e6 data-v-bdc88584 data-v-d502cd7b><!--[-->About<!--]--><!----></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-2264840b data-v-0088fcc3><label title="toggle dark mode" data-v-0088fcc3 data-v-6efeb7e0><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-checked="false" data-v-6efeb7e0 data-v-5c77962f><span class="check" data-v-5c77962f><span class="icon" data-v-5c77962f><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-6efeb7e0><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-6efeb7e0><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></label></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-2264840b data-v-f8334a3a data-v-c74e4df9><!--[--><a class="VPSocialLink" href="https://github.com/realzhengyiming" aria-label="github" target="_blank" rel="noopener" data-v-c74e4df9 data-v-d6790091><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-2264840b data-v-206ebc7c data-v-529736ff><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-529736ff><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-529736ff><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-529736ff><div class="VPMenu" data-v-529736ff data-v-280e28cb><!----><!--[--><!--[--><!----><div class="group" data-v-206ebc7c><div class="item appearance" data-v-206ebc7c><p class="label" data-v-206ebc7c>Appearance</p><div class="appearance-action" data-v-206ebc7c><label title="toggle dark mode" data-v-206ebc7c data-v-6efeb7e0><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-checked="false" data-v-6efeb7e0 data-v-5c77962f><span class="check" data-v-5c77962f><span class="icon" data-v-5c77962f><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-6efeb7e0><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-6efeb7e0><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></label></div></div></div><div class="group" data-v-206ebc7c><div class="item social-links" data-v-206ebc7c><div class="VPSocialLinks social-links-list" data-v-206ebc7c data-v-c74e4df9><!--[--><a class="VPSocialLink" href="https://github.com/realzhengyiming" aria-label="github" target="_blank" rel="noopener" data-v-c74e4df9 data-v-d6790091><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-2264840b data-v-47edab87><span class="container" data-v-47edab87><span class="top" data-v-47edab87></span><span class="middle" data-v-47edab87></span><span class="bottom" data-v-47edab87></span></span></button></div></div></div></div><!----></header><div class="VPLocalNav" data-v-2bf54a99 data-v-b59ad933><!----><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-b59ad933 data-v-c20a59a7><button data-v-c20a59a7>Return to top</button><!----></div></div><!----><div class="VPContent" id="VPContent" data-v-2bf54a99 data-v-e1441724><div class="VPDoc has-aside" data-v-e1441724 data-v-e031c361><!--[--><!--]--><div class="container" data-v-e031c361><div class="left-aside aside" data-v-e031c361><div class="aside-curtain" data-v-e031c361></div><div class="aside-container" data-v-e031c361><div class="aside-content" data-v-e031c361><div class="VPDocAside" data-v-e031c361 data-v-6db944aa><!--[--><!--[--><!--[--><!--[--><!--[--><span class="bg-primary-100 inline-flex items-center rounded text-sm font-medium"><div data-v-262d93ff><div class="i-[heroicons-outline/annotation] mr-2" data-v-262d93ff></div><span data-v-262d93ff>Document</span></div></span><span class="bg-primary-100 inline-flex rounded text-sm font-medium"><div class="flex flex-wrap gap-2 py-5"><!--[--><a class="rounded-sm bg-gray-100 px-2 py-1 text-xs font-semibold text-gray-600" href="/blog/tags?init=æ·±åº¦å­¦ä¹ "><!----> æ·±åº¦å­¦ä¹ </a><!--]--></div></span><dl class="pb-10 pt-6 xl:border-b xl:border-gray-200 xl:pt-11 dark:xl:border-slate-200/5" data-v-f51709bc><dt class="sr-only" data-v-f51709bc>Authors</dt><dd data-v-f51709bc><ul class="flex justify-center space-x-8 sm:space-x-12 xl:block xl:space-x-0 xl:space-y-8" data-v-f51709bc><li class="flex items-center space-x-2" data-v-f51709bc><img src="https://avatars.githubusercontent.com/u/26131338?v=4" alt="author image" class="h-10 w-10 rounded-full" data-v-f51709bc><dl class="whitespace-nowrap text-sm font-medium leading-5" data-v-f51709bc><dt class="sr-only" data-v-f51709bc>Name</dt><dd class="text-gray-900 dark:text-white" data-v-f51709bc><a href="/blog/authors/yi-ming.html" class="text-lg text-gray-900 hover:text-[color:var(--vp-c-brand-light)] dark:text-white dark:hover:text-[color:var(--vp-c-brand-dark)]" data-v-f51709bc>Yi Ming</a></dd><!----><!----></dl></li></ul></dd></dl><!--]--><!--]--><!--]--><!--]--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" data-v-6db944aa data-v-12ef9dee><div class="content" data-v-12ef9dee><div class="outline-marker" data-v-12ef9dee></div><div class="outline-title" data-v-12ef9dee>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-12ef9dee><span class="visually-hidden" id="doc-outline-aria-label" data-v-12ef9dee> Table of Contents for current page </span><ul class="root" data-v-12ef9dee data-v-df1a6cf2><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-6db944aa></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--[--><!--[--><!--[--><footer class="mb-24 divide-y divide-gray-200 text-sm font-medium leading-5 dark:divide-slate-200/5" data-v-2f3a5683><!----><div class="py-3" data-v-2f3a5683><h2 class="text-xs uppercase tracking-wide text-gray-500 dark:text-white" data-v-2f3a5683> Previous Article </h2><div class="link" data-v-2f3a5683><a href="/blog/posts/2024/Ollama_Local_Inference&amp;Summary_Generation_Capability.html" data-v-2f3a5683>Ollamaæœ¬åœ°æ¨ç†&amp;æ–‡æœ¬æ ‡é¢˜ç”Ÿæˆ</a></div></div><div class="pt-3" data-v-2f3a5683><a class="link" href="/blog/" data-v-2f3a5683>â† Back to the blog</a></div></footer><!----><!--]--><!--]--><!--]--><!--]--></div></div></div></div><div class="content" data-v-e031c361><div class="content-container" data-v-e031c361><!--[--><!--[--><!--[--><!--[--><header class="space-y-1 pt-6 text-center xl:pb-10"><dl><dt class="sr-only">Published on</dt><dd class="text-base font-medium leading-6 text-gray-500 dark:text-gray-300"><time datetime="2024-02-25T12:00:00.000Z">February 25, 2024</time></dd></dl><h1 class="md:leading-14 text-3xl font-extrabold leading-9 tracking-tight text-[color:var(--vp-c-brand-dark)] dark:text-[color:var(--vp-c-brand-light)] sm:text-4xl sm:leading-10 md:text-5xl">ä¸»æµllmå¤§æ¨¡å‹å¾®è°ƒå°ç»“</h1></header><!--[--><div class="xs:show xl:hidden flex justify-center space-x-8 sm:space-x-12 xl:block xl:space-x-0 xl:space-y-8"><span class="bg-primary-100 inline-flex items-center rounded text-sm font-medium"><div data-v-262d93ff><div class="i-[heroicons-outline/annotation] mr-2" data-v-262d93ff></div><span data-v-262d93ff>Document</span></div></span></div><dl class="pb-10 pt-6 xl:border-b xl:border-gray-200 xl:pt-11 dark:xl:border-slate-200/5 xs:show xl:hidden" data-v-f51709bc><dt class="sr-only" data-v-f51709bc>Authors</dt><dd data-v-f51709bc><ul class="flex justify-center space-x-8 sm:space-x-12 xl:block xl:space-x-0 xl:space-y-8" data-v-f51709bc><li class="flex items-center space-x-2" data-v-f51709bc><img src="https://avatars.githubusercontent.com/u/26131338?v=4" alt="author image" class="h-10 w-10 rounded-full" data-v-f51709bc><dl class="whitespace-nowrap text-sm font-medium leading-5" data-v-f51709bc><dt class="sr-only" data-v-f51709bc>Name</dt><dd class="text-gray-900 dark:text-white" data-v-f51709bc><a href="/blog/authors/yi-ming.html" class="text-lg text-gray-900 hover:text-[color:var(--vp-c-brand-light)] dark:text-white dark:hover:text-[color:var(--vp-c-brand-dark)]" data-v-f51709bc>Yi Ming</a></dd><!----><!----></dl></li></ul></dd></dl><!--]--><!--]--><!----><!--]--><!--]--><!--]--><!----><main class="main" data-v-e031c361><div style="position:relative;" class="vp-doc _blog_posts_2024_latest-llm-model-fine-tune" data-v-e031c361><div><h2 id="å¼•è¨€" tabindex="-1">å¼•è¨€ <a class="header-anchor" href="#å¼•è¨€" aria-label="Permalink to &quot;å¼•è¨€&quot;">â€‹</a></h2><p>llmå¤§æ¨¡å‹ç›®å‰æ¯”è¾ƒç«çš„ä¸¤ä¸ªå‚ç›´é¢†åŸŸåº”ç”¨çš„æŠ€æœ¯è·¯çº¿: PEFT(å‚æ•°æœ‰æ•ˆå¾®è°ƒ)å’ŒRAG(æ£€ç´¢å¢å¼ºç”Ÿæˆ). ç›®å‰è¿™ä¸¤ä¸ªæ–¹å‘æŒ‰å®ç”¨æ€§æ¥è¯´, å¦‚æœå•çœ‹å‚ç›´é¢†åŸŸçŸ¥è¯†åº“, é‚£ç¡®å®RAGèƒ½ä»¥æ›´ä½çš„æˆæœ¬å’Œæ›´å¿«çš„é€Ÿåº¦åº”ç”¨èµ·æ¥.<br> ä½†æ˜¯<strong>å¾®è°ƒè®­ç»ƒ</strong>èƒ½ä¸ºå¤§è¯­è¨€æ¨¡å‹å¢åŠ æ–°çš„åŠŸèƒ½, æ¯”å¦‚ç¿»è¯‘, ä½¿ç”¨agent(agentå·¥å…·è°ƒç”¨å¾®è°ƒ), æ‰€ä»¥å®ƒä¾ç„¶éå¸¸é‡è¦, å¹¶ä¸”å¾®è°ƒæŠ€æœ¯çš„å¢å¼ºå’ŒRAGæ˜¯å¯ä»¥å…±åŒä¿ƒè¿›çš„. ä¸‹æ–‡å°±ä»¥ç®€å•çš„èº«ä»½å¾®è°ƒä½œä¸ºä¾‹å­, ç®€å•å®è·µä¸‹llmå¾®è°ƒ.</p><hr><h2 id="å¤§æ¨¡å‹å¾®è°ƒæŠ€æœ¯è·¯çº¿" tabindex="-1">å¤§æ¨¡å‹å¾®è°ƒæŠ€æœ¯è·¯çº¿ <a class="header-anchor" href="#å¤§æ¨¡å‹å¾®è°ƒæŠ€æœ¯è·¯çº¿" aria-label="Permalink to &quot;å¤§æ¨¡å‹å¾®è°ƒæŠ€æœ¯è·¯çº¿&quot;">â€‹</a></h2><h3 id="sft-æœ‰ç›‘ç£å¾®è°ƒ" tabindex="-1">SFT (æœ‰ç›‘ç£å¾®è°ƒ) <a class="header-anchor" href="#sft-æœ‰ç›‘ç£å¾®è°ƒ" aria-label="Permalink to &quot;SFT (æœ‰ç›‘ç£å¾®è°ƒ)&quot;">â€‹</a></h3><p>ç®€å•çš„è¯´å°±æ˜¯<strong>ä¼ ç»Ÿå…¨å‚æ•°å¾®è°ƒ</strong>, ç‰¹ç‚¹å°±æ˜¯, æ ‡è®°æ•°æ®ä¸­å°†è¾“å…¥æ•°æ®æ˜ å°„åˆ°æœŸæœ›çš„è¾“å‡ºå». è®¡ç®—æˆæœ¬ä½äºé¢„è®­ç»ƒ(ä»è®­ç»ƒæ•°æ®çš„é‡æ¥è¯´, ä½†æ˜¯å¯¹äºå¤§æ¨¡å‹æ¥è¯´,è¿™ä¸ªé‡ä¾ç„¶å¾ˆå¤§) ä¾‹å­:</p><ul><li>ImageNetæ•°æ®é›†é¢„è®­ç»ƒå, é€šè¿‡è¾ƒå°‘çš„æ•°æ®é›†è¿ç§»åˆ°å…¶ä»–ä¸»é¢˜çš„æ•°æ®é›†ä¸Šçš„å›¾åƒè¯†åˆ«æ¨¡å‹</li><li>stable diffusion çš„dreamboothå¾®è°ƒ(å…¨å‚)</li><li>llm fine-tune (æ¯”å¦‚bert ä¸€èˆ¬å°±æ˜¯åŸºäºè¿™ç§æ–¹å¼å…¨å‚å¾®è°ƒ)</li></ul><h3 id="peft-å‚æ•°æœ‰æ•ˆå¾®è°ƒ" tabindex="-1">PEFT (å‚æ•°æœ‰æ•ˆå¾®è°ƒ) <a class="header-anchor" href="#peft-å‚æ•°æœ‰æ•ˆå¾®è°ƒ" aria-label="Permalink to &quot;PEFT (å‚æ•°æœ‰æ•ˆå¾®è°ƒ)&quot;">â€‹</a></h3><p>æ—¨åœ¨å‡å°‘åœ¨å¾®è°ƒè¿‡ç¨‹ä¸­éœ€è¦æ›´æ–°çš„å‚æ•°æ•°é‡, é€šå¸¸æ˜¯åœ¨å¾®è°ƒçš„æ—¶å€™å›ºå®šæ¨¡å‹çš„ä¸€éƒ¨åˆ†å‚æ•°, åªæ›´æ–°ä¸€éƒ¨åˆ†å‚æ•°, æˆ–è€…åœ¨åŸæ¨¡å‹ä¸­å¢åŠ ä¸€ä¸ªå¯è°ƒçš„å°å‹ç½‘ç»œæ¥å¯¹æ¨¡å‹è¿›è¡Œå¾®è°ƒ. ä¾‹å­:</p><ul><li>Prefix Tuning</li></ul><ul><li>ptuning</li><li>ptuning v2</li><li>LoRA</li><li>stable diffusion ä¸­çš„ text-inversion ã€ hyperNetwork ã€loraç­‰æŠ€æœ¯</li><li>...</li></ul><h3 id="rlhf-äººç±»åé¦ˆçš„å¼ºåŒ–å­¦ä¹ " tabindex="-1">RLHF (äººç±»åé¦ˆçš„å¼ºåŒ–å­¦ä¹ ) <a class="header-anchor" href="#rlhf-äººç±»åé¦ˆçš„å¼ºåŒ–å­¦ä¹ " aria-label="Permalink to &quot;RLHF (äººç±»åé¦ˆçš„å¼ºåŒ–å­¦ä¹ )&quot;">â€‹</a></h3><p>chatgptä¸­ç”¨åˆ°çš„ä¸€ç§åŸºäºå¼ºåŒ–å­¦ä¹ æ–¹æ³•çš„æŠ€æœ¯. æ¿€åŠ±æ¨¡å‹è®­ç»ƒï¼Œä½¿è¯­è¨€æ¨¡å‹è¡¥å…¨ä¸äººå·¥æ ‡ç­¾å‘˜çš„åå¥½ä¿æŒä¸€è‡´ã€‚ç±»ä¼¼äº, æ°´å¹³é«˜çš„äººç±»å›´æ£‹æ‰‹å°±èƒ½å¤Ÿè®­ç»ƒå‡ºæ°´å¹³é«˜çš„å›´æ£‹é€‰æ‰‹ä¸€æ ·. rlhfä¹Ÿæ˜¯, é€šè¿‡äººç±»å¯¹ç”Ÿæˆç»“æœçš„åå¥½é€‰æ‹©è¿›è¡Œåé¦ˆ, ç„¶åè®©llmèƒ½å¤Ÿç”Ÿæˆæ›´å¤šäººç±»åå¥½çš„å†…å®¹. Â ä¾‹å­:</p><ul><li>chatgpt é‡è¦çš„å¾®è°ƒæµç¨‹</li></ul><h2 id="ç›®å‰æ¯”è¾ƒä¸»æµçš„peftå¾®è°ƒ" tabindex="-1">ç›®å‰æ¯”è¾ƒä¸»æµçš„PEFTå¾®è°ƒ <a class="header-anchor" href="#ç›®å‰æ¯”è¾ƒä¸»æµçš„peftå¾®è°ƒ" aria-label="Permalink to &quot;ç›®å‰æ¯”è¾ƒä¸»æµçš„PEFTå¾®è°ƒ&quot;">â€‹</a></h2><p>ç›®å‰çš„PEFTå¾®è°ƒæ–¹æ³•ä¹Ÿè¿˜åœ¨ä¸åœçš„æ›´æ–°ä¸­, ä¸è¿‡æˆªæ­¢åˆ°æ­¤æ–‡ç¼–å†™åªæ˜¯, loraåº”è¯¥æ˜¯æ¯”è¾ƒä¸»æµçš„. å¯¹äºllmå¤§æ¨¡å‹, è¿˜æœ‰ptuning v2</p><h3 id="loraå¾®è°ƒ" tabindex="-1">LoRAå¾®è°ƒ <a class="header-anchor" href="#loraå¾®è°ƒ" aria-label="Permalink to &quot;LoRAå¾®è°ƒ&quot;">â€‹</a></h3><p>LoRAé€šè¿‡æ·»åŠ ä¸€ä¸ªä½ç§©çº¿æ€§é€‚åº”å±‚åˆ°åŸæœ‰æ¨¡å‹ï¼Œå†»ç»“åŸæ¨¡å‹æƒé‡, åªå¯¹æ–°å¢åŠ çš„ä½ç§©çŸ©é˜µè¿›è¡Œå¾®è°ƒï¼Œå¤§å¤§é™ä½äº†å¾®è°ƒçš„å¤æ‚åº¦ã€‚loraå¾®è°ƒçš„ç»“æ„å›¾å¦‚ä¸‹, å®ƒæœ‰æ•ˆçš„åŸå› æ˜¯æ¨¡å‹å¾€å¾€æ˜¯è¿‡å‚æ•°åŒ–çš„, å¤§éƒ¨åˆ†çš„ä»»åŠ¡åªéœ€è¦æ”¹åŠ¨å°‘é‡æƒé‡(å’Œå¯¹åº”æ–°ä»»åŠ¡ç›¸å…³çš„æƒé‡) å°±åº”è¯¥å¯ä»¥æœ‰æ•ˆæœ. LoRA ä¸ä¼šæ”¹å˜å±‚çš„æ‰€æœ‰ç»„ä»¶ä¸­çš„æƒé‡çŸ©é˜µ Wï¼Œè€Œæ˜¯åˆ›å»ºä¸¤ä¸ªè¾ƒå°çš„çŸ©é˜µ A å’Œ Bï¼Œå…¶ä¹˜ç§¯å¤§è‡´è¡¨ç¤ºå¯¹ W çš„ä¿®æ”¹ã€‚é€‚åº”å¯ä»¥åœ¨æ•°å­¦ä¸Šè¡¨ç¤ºä¸º Y = W+AB. é€šè¿‡å¾®è°ƒABå°±å¯ä»¥è®©æ¨¡å‹é€‚é…æ–°çš„ä»»åŠ¡.</p><p><img src="/assets/loraå¾®è°ƒæ³¨å…¥ç»“æ„.8a777aea.png" alt=""></p><h3 id="qlora" tabindex="-1">QLoRA <a class="header-anchor" href="#qlora" aria-label="Permalink to &quot;QLoRA&quot;">â€‹</a></h3><p>QLoRAæ˜¯ LoRA çš„æ‰©å±•ç‰ˆæœ¬ï¼Œå®ƒçš„å·¥ä½œåŸç†æ˜¯å°†é¢„è®­ç»ƒLLMçš„æƒé‡å‚æ•°çš„ç²¾åº¦é‡åŒ–ä¸º 4 ä½ç²¾åº¦ã€‚é€šå¸¸ï¼Œè®­ç»ƒæ¨¡å‹çš„å‚æ•°ä»¥ 32 ä½æ ¼å¼å­˜å‚¨ï¼Œä½† QLoRA å°†å®ƒä»¬å‹ç¼©ä¸º 4 ä½æ ¼å¼ã€‚è¿™å‡å°‘äº† LLMçš„å†…å­˜å ç”¨ï¼Œä»è€Œå¯ä»¥åœ¨å•ä¸ª GPU ä¸Šå¯¹å…¶è¿›è¡Œå¾®è°ƒã€‚è¿™ç§æ–¹æ³•æ˜¾è‘—å‡å°‘äº†å†…å­˜å ç”¨ï¼Œä½¿å¾—åœ¨åŠŸèƒ½è¾ƒå¼±çš„ç¡¬ä»¶ï¼ˆåŒ…æ‹¬æ¶ˆè´¹ç±» GPUï¼‰ä¸Šè¿è¡ŒLLMæ¨¡å‹æˆä¸ºå¯èƒ½ã€‚ <img src="/assets/å¯¹æ¯”lora-qlora.50c36916.png" alt=""></p><h3 id="lora-ä¸qloraçš„å¯¹æ¯”" tabindex="-1">LoRA ä¸QLoRAçš„å¯¹æ¯” <a class="header-anchor" href="#lora-ä¸qloraçš„å¯¹æ¯”" aria-label="Permalink to &quot;LoRA ä¸QLoRAçš„å¯¹æ¯”&quot;">â€‹</a></h3><p>LoRAä¼˜ç‚¹:</p><ul><li>å…è®¸é«˜æ•ˆçš„æ¨¡å‹å¾®è°ƒï¼Œåªéœ€è¦æ›´æ–°æ¨¡å‹ä¸­çš„å°éƒ¨åˆ†å‚æ•°ã€‚</li><li>æä¾›äº†å‚æ•°æ‰©å±•çš„çµæ´»æ€§ï¼Œè€Œä¸éœ€è¦å¤§è§„æ¨¡æ”¹åŠ¨åŸæœ‰çš„æƒé‡ã€‚<br> LoRAç¼ºç‚¹:</li><li>ç›¸å¯¹äºé‡åŒ–ç‰ˆæœ¬ï¼Œå­˜å‚¨å’Œè®¡ç®—èµ„æºéœ€æ±‚æ›´é«˜ã€‚</li><li>å¯¹äºèµ„æºæœ‰é™çš„ç¯å¢ƒæ¥è¯´ï¼Œå¯èƒ½ä¸å¦‚é‡åŒ–æ–¹æ³•é«˜æ•ˆã€‚<br> QLoRAä¼˜ç‚¹:</li><li>é€šè¿‡é‡åŒ–å‡å°‘äº†æ¨¡å‹çš„å†…å­˜å ç”¨å’Œè®¡ç®—èµ„æºä½¿ç”¨ã€‚</li><li>æé«˜äº†æ¨¡å‹åœ¨èµ„æºå—é™è®¾å¤‡ä¸Šçš„é€‚ç”¨æ€§å’Œèƒ½æ•ˆã€‚<br> QLoRAç¼ºç‚¹:</li><li>é‡åŒ–å¯èƒ½ä¼šå¼•èµ·æ¨¡å‹ç²¾åº¦çš„æŸå¤±ï¼Œå°¤å…¶æ˜¯åœ¨ä½æ¯”ç‰¹å®½åº¦é‡åŒ–æ—¶ã€‚</li><li>éœ€è¦ä»”ç»†è°ƒä¼˜é‡åŒ–çº§åˆ«ï¼Œä»¥åŠå¯èƒ½åœ¨æŸäº›ç¡¬ä»¶ä¸Šä¸æä¾›æ€§èƒ½ä¼˜åŠ¿ã€‚</li><li>å¹¶ä¸”QLoRAç”±äºé‡‡ç”¨äº†ä½ç²¾åº¦, è®­ç»ƒéš¾åº¦ä¹Ÿä¼šå¤§ä¸€äº›</li></ul><h3 id="ptuning-v2" tabindex="-1">ptuning v2 <a class="header-anchor" href="#ptuning-v2" aria-label="Permalink to &quot;ptuning v2&quot;">â€‹</a></h3><p>ä¸»æµè¿˜æ˜¯LoRAç³»åˆ—çš„. ptunning ç›®å‰å¥½åƒä¸»è¦chatglmåœ¨ç”¨. ptunning v2 ç›¸æ¯”äºptuning v1å¢åŠ äº†æ³¨å…¥çš„å±‚æ•°, è®©ptuningåœ¨å‚æ•°é‡10bä»¥ä¸‹çš„æ¨¡å‹ä¹Ÿèƒ½è¾¾åˆ°è¿˜ä¸é”™çš„æ•ˆæœ.</p><h2 id="llm-lora-è®­ç»ƒ" tabindex="-1">llm LoRA è®­ç»ƒ <a class="header-anchor" href="#llm-lora-è®­ç»ƒ" aria-label="Permalink to &quot;llm LoRA è®­ç»ƒ&quot;">â€‹</a></h2><ul><li>å¯ä»¥å‚è€ƒä¸åŒçš„æ¨¡å‹çš„å„è‡ªè®­ç»ƒå¾®è°ƒçš„è¯´æ˜</li><li>huggingface PEFTåº“</li><li>å¸¦Webuiçš„ <a href="https://github.com/hiyouga/LLaMA-Factory" target="_blank" rel="noreferrer">llama-factory</a> ä½“éªŒä¹Ÿè¿˜å¯ä»¥</li><li>etc...</li></ul><h2 id="ä½¿ç”¨llama-factory-llama-board-å¾®è°ƒæ¨¡å‹" tabindex="-1">ä½¿ç”¨llama-factory(llama-board) å¾®è°ƒæ¨¡å‹ <a class="header-anchor" href="#ä½¿ç”¨llama-factory-llama-board-å¾®è°ƒæ¨¡å‹" aria-label="Permalink to &quot;ä½¿ç”¨llama-factory(llama-board) å¾®è°ƒæ¨¡å‹&quot;">â€‹</a></h2><p>é…ç½®ç¯å¢ƒå®‰è£…: ä¸‹é¢ä»¥qwen:7b-chatæ¨¡å‹ä¸ºä¾‹å­, ç”¨24Gè¿å­˜çš„GPUè¿›è¡Œå¾®è°ƒ.</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">clone</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">https://github.com/hiyouga/LLaMA-Factory.git</span></span>
<span class="line"><span style="color:#FFCB6B;">conda</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">create</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-n</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">llama_factory</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">python=</span><span style="color:#F78C6C;">3.10</span></span>
<span class="line"><span style="color:#FFCB6B;">conda</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">activate</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">llama_factory</span></span>
<span class="line"><span style="color:#82AAFF;">cd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">LLaMA-Factory</span></span>
<span class="line"><span style="color:#FFCB6B;">pip</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-r</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">requirements.txt</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">CUDA_VISIBLE_DEVICES</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;"> python src/train_web.py</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">CUDA_VISIBLE_DEVICES</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;"> python src/train_bash.py \</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">--stage</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">sft</span><span style="color:#A6ACCD;"> \</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C3E88D;">--do_train</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">True</span><span style="color:#A6ACCD;"> \</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C3E88D;">--model_name_or_path</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">qwen/Qwen1.</span><span style="color:#F78C6C;">5</span><span style="color:#C3E88D;">-7B-Chat</span><span style="color:#A6ACCD;"> \</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C3E88D;">--adapter_name_or_path</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">saves/Qwen1.</span><span style="color:#F78C6C;">5</span><span style="color:#C3E88D;">-7B-Chat/lora/train_2024-</span><span style="color:#F78C6C;">02</span><span style="color:#C3E88D;">-</span><span style="color:#F78C6C;">26</span><span style="color:#C3E88D;">-</span><span style="color:#F78C6C;">20</span><span style="color:#C3E88D;">-</span><span style="color:#F78C6C;">08</span><span style="color:#C3E88D;">-</span><span style="color:#F78C6C;">03</span><span style="color:#A6ACCD;"> \</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C3E88D;">--finetuning_type</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">lora</span><span style="color:#A6ACCD;"> \</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C3E88D;">--template</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">qwen</span><span style="color:#A6ACCD;"> \</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C3E88D;">--dataset_dir</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">data</span><span style="color:#A6ACCD;"> \</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C3E88D;">--dataset</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">self_cognition</span><span style="color:#A6ACCD;"> \</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C3E88D;">--cutoff_len</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1024</span><span style="color:#A6ACCD;"> \</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C3E88D;">--learning_rate</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0.0001</span><span style="color:#A6ACCD;"> \</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C3E88D;">--num_train_epochs</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">10.0</span><span style="color:#A6ACCD;"> \</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C3E88D;">--max_samples</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">100000</span><span style="color:#A6ACCD;"> \</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C3E88D;">--per_device_train_batch_size</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">4</span><span style="color:#A6ACCD;"> \</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C3E88D;">--gradient_accumulation_steps</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">4</span><span style="color:#A6ACCD;"> \</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C3E88D;">--lr_scheduler_type</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">cosine</span><span style="color:#A6ACCD;"> \</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C3E88D;">--max_grad_norm</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1.0</span><span style="color:#A6ACCD;"> \</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C3E88D;">--logging_steps</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">5</span><span style="color:#A6ACCD;"> \</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C3E88D;">--save_steps</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">100</span><span style="color:#A6ACCD;"> \</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C3E88D;">--warmup_steps</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;"> \</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C3E88D;">--output_dir</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">saves/Qwen1.</span><span style="color:#F78C6C;">5</span><span style="color:#C3E88D;">-7B-Chat/lora/train_2024-</span><span style="color:#F78C6C;">02</span><span style="color:#C3E88D;">-</span><span style="color:#F78C6C;">26</span><span style="color:#C3E88D;">-</span><span style="color:#F78C6C;">20</span><span style="color:#C3E88D;">-</span><span style="color:#F78C6C;">08</span><span style="color:#C3E88D;">-</span><span style="color:#F78C6C;">03</span><span style="color:#A6ACCD;"> \</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C3E88D;">--fp16</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">True</span><span style="color:#A6ACCD;"> \</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C3E88D;">--lora_rank</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">8</span><span style="color:#A6ACCD;"> \</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C3E88D;">--lora_dropout</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0.1</span><span style="color:#A6ACCD;"> \</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C3E88D;">--lora_target</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">q_proj,v_proj</span><span style="color:#A6ACCD;"> \</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C3E88D;">--plot_loss</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">True</span></span></code></pre></div><h3 id="_3epochè®­ç»ƒèº«ä»½çŸ«æ­£" tabindex="-1">3epochè®­ç»ƒèº«ä»½çŸ«æ­£ <a class="header-anchor" href="#_3epochè®­ç»ƒèº«ä»½çŸ«æ­£" aria-label="Permalink to &quot;3epochè®­ç»ƒèº«ä»½çŸ«æ­£&quot;">â€‹</a></h3><p>è®­ç»ƒå®ŒååŠ è½½loraè¿›è¡Œæ£€æŸ¥: <img src="/assets/3epoch.e5285bc7.png" alt="3epoch"></p><p><img src="/assets/latest-llm-model-fine-tune-3epoch.9f1afb33.png" alt=""></p><h3 id="_6epochè®­ç»ƒåæ•ˆæœ" tabindex="-1">6epochè®­ç»ƒåæ•ˆæœ <a class="header-anchor" href="#_6epochè®­ç»ƒåæ•ˆæœ" aria-label="Permalink to &quot;6epochè®­ç»ƒåæ•ˆæœ&quot;">â€‹</a></h3><p><img src="/assets/latest-llm-model-fine-tune-6epoch.08259eb9.png" alt=""></p><p><img src="/assets/latest-llm-model-fine-tune-6epoch-chat.c4ab5438.png" alt=""> å¯è§, åœ¨80æ¡èº«ä»½æ•°æ®çš„æƒ…å†µä¸‹6ä¸ªepoch, å­¦ä¹ ç‡1e-4 , lora rankä¸º4çš„æƒ…å†µä¸‹, å…¶ä½™é»˜è®¤, å·²ç»è®©æ¨¡å‹èƒ½å¤Ÿé‡æ–°å®šä¹‰æ¨¡å‹çš„â€œè‡ªæˆ‘èº«ä»½â€. è¯´æ˜å¾®è°ƒèµ·ä½œç”¨äº†. ä¹‹åä¹Ÿç®€å•é—®äº†ä¸€ä¸‹å¸¸è§„çš„é—®é¢˜, ä»¥æ£€æŸ¥æ˜¯å¦é€ æˆäº†ç¾éš¾æ€§é—å¿˜: <img src="/assets/latest-llm-model-fine-tune-6epoch-try.8ca58604.png" alt=""> å‘ç°è¿˜å¯ä»¥, ä¹‹å‰ç”¨ptuning å¯¹chatglmè¿›è¡Œå¾®è°ƒçš„æ—¶å€™ ,å°±å‡ºç°äº†å¾ˆæ˜æ˜¾çš„ç¾éš¾æ€§é—å¿˜, åŸæ¥çš„åŠŸèƒ½éƒ½ä¸§å¤±äº†. è™½ç„¶ptuninig v2 ä¹Ÿåªå¯¹prefix encoderåšå¾®è°ƒ.(ä¹Ÿå¯èƒ½è¿˜æ˜¯å› ä¸ºæ•°æ®é‡ä¸å¤Ÿ, epochè¿‡å¤š)</p><h3 id="_10epoch" tabindex="-1">10epoch <a class="header-anchor" href="#_10epoch" aria-label="Permalink to &quot;10epoch&quot;">â€‹</a></h3><p>10ä¸ªepochå, å°±å¼€å§‹å·¥ä½œä¸æ­£å¸¸äº†, å‡ºç°äº†. æ•°æ®é‡ä¸å¤Ÿ, è½®æ•°å¤ªå¤š, è¿‡æ‹Ÿåˆäº†. <img src="/assets/latest-llm-model-fine-tune-10epoch.104e551b.png" alt=""></p><p><img src="/assets/iShot_2024-02-26_20.17.33.e0b8bc45.png" alt=""></p><h2 id="æ¨¡å‹å¾®è°ƒçš„é—®é¢˜" tabindex="-1">æ¨¡å‹å¾®è°ƒçš„é—®é¢˜ <a class="header-anchor" href="#æ¨¡å‹å¾®è°ƒçš„é—®é¢˜" aria-label="Permalink to &quot;æ¨¡å‹å¾®è°ƒçš„é—®é¢˜&quot;">â€‹</a></h2><ul><li>ç¡¬ä»¶è¦æ±‚é«˜: å…¨å‚å¾®è°ƒ7bå¤§æ¦‚éœ€è¦2ä¸ªV100; loraè®­ç»ƒ7b,éœ€è¦è‡³å°‘22Gæ˜¾å­˜; qloraè®­ç»ƒè‡³å°‘éœ€è¦16G;</li><li>æ•°æ®é‡è¦æ±‚é«˜: è™½ç„¶å¯ä»¥ä½¿ç”¨è¿‡chatgptè¿›è¡Œé—®ç­”çš„ç”Ÿæˆ, ä½†æ˜¯å¦‚æœæ˜¯<strong>å‚ç›´é¢†åŸŸ</strong>, é‚£å›ç­”ä¹Ÿä¾ç„¶éœ€è¦äººå·¥ç²¾ç¡®çš„å»æ ¸å¯¹. è€Œå‚ç›´é¢†åŸŸæ°æ°æ˜¯å¸Œæœ›èƒ½å¤Ÿéå¸¸å‡†ç¡®, æ‰èƒ½çªå‡ºæ­¤<strong>æ¨¡å‹åº”ç”¨</strong>æœ‰åˆ«äºå…¶ä»–çš„ä»·å€¼.</li></ul><p>æ‰€ä»¥ç›®å‰å¾®è°ƒæŠ€æœ¯ä¼šä»SFT--&gt; PEFTå‘å±•(lora -&gt; qlora). å¾€ç€é™ä½æˆæœ¬, å‡å°‘å¾®è°ƒæ—¶é—´, åŠ é€Ÿå®éªŒ,åŠ é€Ÿäº§å‡ºçš„æ–¹å‘èµ°. æœŸå¾…ä½æˆæœ¬å¾®è°ƒæœ‰æ›´å¤§çš„æŠ€æœ¯çªç ´, æˆ–è€…æ˜¾å¡ç¡¬ä»¶ä»·æ ¼ä¸‹é™. ğŸ˜ƒ</p><blockquote><p><a href="https://www.google.com/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=&amp;cad=rja&amp;uact=8&amp;ved=2ahUKEwjG6PXh4MaEAxUhlK8BHSTHDkUQFnoECAYQAQ&amp;url=https%3A%2F%2Farxiv.org%2Fabs%2F2305.14314&amp;usg=AOvVaw0DPZGS_zRJAyr-clb7RXRc&amp;opi=89978449" target="_blank" rel="noreferrer">QLoRA: Efficient Finetuning of Quantized LLMs</a></p></blockquote></div></div></main><!----><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter" data-v-2bf54a99 data-v-3d1b5f7c><div class="container" data-v-3d1b5f7c><p class="message" data-v-3d1b5f7c>2024 - future</p><p class="copyright" data-v-3d1b5f7c>say my name!</p></div></footer><!--[--><!--]--></div></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"blog_authors_yi-ming.md\":\"72970469\",\"blog_index.md\":\"6f622db4\",\"blog_archives.md\":\"623bcfb1\",\"blog_posts_2024_ollama_local_inference_summary_generation_capability.md\":\"5e3bf348\",\"blog_posts_2024_latest-llm-model-fine-tune.md\":\"014939e0\",\"blog_posts_2024_llm_agent.md\":\"c277315c\",\"unpost_blog_gpt-sovits.md\":\"603b8d35\",\"index.md\":\"3cf96156\",\"blog_posts_2024_vitepress_obsidian.md\":\"b7e2110e\",\"blog_tags.md\":\"62e1cd9b\",\"blog_posts_2024_vitepress_use_vue_animation.md\":\"b70daf99\",\"blog_posts_2024_isaac_image_recognition.md\":\"9fd3c83f\"}")
__VP_SITE_DATA__ = JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"YiMing's blog\",\"description\":\"A balanced life, coding for enjoyment\",\"base\":\"/\",\"head\":[],\"appearance\":true,\"themeConfig\":{\"logo\":\"yiminglogo2.png\",\"siteTitle\":\"YiMing's Blog\",\"footer\":{\"message\":\"2024 - future\",\"copyright\":\"say my name!\"},\"blog\":{\"title\":\"åšæ–‡\",\"description\":\"âœï¸\",\"defaultAuthor\":\"YiMing\",\"categoryIcons\":{\"article\":\"i-[heroicons-outline/book-open]\",\"tutorial\":\"i-[heroicons-outline/academic-cap]\",\"document\":\"i-[heroicons-outline/annotation]\"},\"tagIcons\":{\"github\":\"i-[carbon/logo-github]\",\"vue\":\"i-[carbon/logo-vue]\"}},\"search\":{\"provider\":\"local\"},\"nav\":[{\"text\":\"Home\",\"link\":\"/\"},{\"text\":\"Blog\",\"items\":[{\"text\":\"Blog Home\",\"link\":\"/blog/\",\"activeMatch\":\"/blog/$\"},{\"text\":\"Tags\",\"link\":\"/blog/tags\",\"activeMatch\":\"/blog/tags\"},{\"text\":\"Archives\",\"link\":\"/blog/archives\",\"activeMatch\":\"/blog/archives\"}]},{\"text\":\"About\",\"link\":\"/blog/authors/yi-ming\"}],\"sidebar\":[{\"text\":\"Examples\",\"items\":[{\"text\":\"Markdown Examples\",\"link\":\"/markdown-examples\"},{\"text\":\"Runtime API Examples\",\"link\":\"/api-examples\"}]}],\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/realzhengyiming\"}]},\"locales\":{},\"scrollOffset\":90,\"cleanUrls\":false}")</script>
    
  </body>
</html>